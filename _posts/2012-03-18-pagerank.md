---
title: The history of the pagerank.php script
date: 2012-03-18
layout: post
guid: /pagerank
permalink: /pagerank/
redirect_from: /projects/pagerank
aktt_notify_twitter:
  - yes
categories:
  - Development
---

## Introduction

[http://www.google.com/technology/ Google PageRank] is a scoring system created by Google to give websites a rank. Generally, the more popular your website is, the higher your pagerank is.

Google offers the pagerank lookup in a number of places including on their directory and on their toolbar. It wasn't long before webmasters wanted to monitor or display their pagerank.

The idea of this is so you can display the [http://en.wikipedia.org/wiki/PageRank Google PageRank] of a website. This is mainly a webmaster tool, regular uses generally have little use for such information.

## The Original Source

To begin with I found [http://web.archive.org/web/20040816015201/http://www.googlecommunity.com/scripts/google-pagerank.php googlecommunity.com] which offered an on-site pagerank lookup tool, the tool was offered as closed source and consequently created quite a presence in the industry because of this. Some time later, [http://web.archive.org/web/*/www.googlecommunity.com/scripts/pagerank-source.phps googlecommunity.com released the source code], which matched the source code found on the [http://www.mobileread.com/forums/showthread.php?t=1670 MobileRead Networks forum], which is where the original source code came from.

I used this script for quite some time, however over time I began using a combination of web servers with different operating systems and with different versions of apache and php.

## The Problem

I discovered that when I used this script on one server it would work fine, yet when I used it on another I discovered that google would throw me back a [http://www.googlecommunity.com/viewtopic.php?p=109189 403 ' Forbidden error]. At first, [http://forums.site5.com/showthread.php?t=3206 like others] I believed this was due to google blocking the IP ranges of my servers therefore preventing abuse of the service.

This was wrong. I soon discovered this after checking the checksum generated by the toolbar, then the checksums generated on working servers and non-working servers.

The main issue was that my development server was running on a different platform than my production server. I discovered that the problem was down to the way the "ch" is generated by certain versions of PHP, and the way they handle [http://www.googlecommunity.com/post-48063.html bitwise operations].

## The Solution

The solution was to either use a perl script and pass the details back and forth via a PHP script, but this would be a very dirty way of doing what we want. The best option would be to produce a native PHP script that would function on all servers.

I tried to revive this concept in a number of places in an attempt to get a functional solution. I went back to where it began on the [http://www.mobileread.com/forums/showthread.php?t=1670&page=19&pp=15 MobileRead Networks forum Pagerank thread]. A user named "AboutSledge" offered a working solution, which was the [http://web.archive.org/web/20070718095023/http://pagerank.gamesaga.net/ Pagerank Checksum Caculator Source Code] for Python, for C and for PHP.

This script works well, and have not experienced a problem generating a checksum. As a result of this I have created a user friendly script which uses the same algorithm which means you can display the pagerank on your site.

## The Update

[http://www.phurix.co.uk/ Phurix] sponsored the launched of a PageRank viewer site that uses the script:

 * [/pagerank-viewer-launch PageRank Viewer launched]
 * [http://pagerank.deaduseful.com/ PageRank Viewer]

Later Phurix sponsored a release of the latest source code:

 * [https://github.com/phurix/pagerank PageRank source code]

## The Future

Is Google PageRank here to say? For now, the answer is yes...

* [/is-google-pagerank-dead Is Google PageRank dead?]

The source code is now an official PHP PEAR package:

 * [https://github.com/hm2k/Services_PageRank PEAR Services_PageRank] (github)
 * [http://pear.php.net/package/Services_PageRank Services_PageRank package] (pear)